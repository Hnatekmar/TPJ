\documentclass[a4paper,11pt]{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{upgreek}
\usepackage{amsmath}
\usepackage{mathabx}
\usepackage{MnSymbol}
\usepackage{wasysym}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage[]{algorithm2e}
\usepackage{hyperref}
\usepackage{tikz}

\title{Programovací jazyk SVGER}

\begin{document}

\maketitle

\newpage
\tableofcontents

\newpage
\section{Gramatiky}
V této sekci se nachází popis jednotlivých gramatik, které jsou zpracovány lexikálním analyzátorem.

\subsection{Identifikátory}
Identifikátor začíná na kterýkoliv znak z množiny $z = \{a..z, A..Z, +, -, /, *, <\}$
a pokračuje v libovonlném znaku z množiny $m = z \bigcup \{0..9\}$ 
\linebreak

$G_{identifikatory}$(\{S, A, B\}, \{z, m\}, P, S)
$$S \rightarrow zA | z$$
$$A \rightarrow mA | m$$

\subsection{Čísla}
$G_{cisla}$(\{S, B, C\}, \{d, .\}, P, S)
$$S \rightarrow dB | d$$
$$B \rightarrow dB | d | .C$$
$$C \rightarrow dC | d$$

\subsection{Řetězce}
Řetězce začínají a končí na znak ". V samotném řetězci se pak může nacházet jakýkýkoliv znak před kterým se nachází $\backslash$ nebo cokoliv v množině $\blacksquare$, která reprezentuje všechny tisknutelné znaky, které nejsou $\backslash$ nebo ".

$G_{retezce}$(\{S, D, E\}, \{$\backslash, ", \blacksquare$\}, P, S)
$$S \rightarrow "D$$
$$D \rightarrow " | \backslash E | \blacksquare E$$
$$E \rightarrow "D | \backslash D | \blacksquare D$$

\subsection{Závorky}
Závorky hrají v lispu důležitou roli. Rozhodl jsem se, že pro jednoduchost bude jazyk podporovat jen \textquotedblleft kulaté \textquotedblright závorky
$G_{zavorky}$(\{S\}, \{(, )\}, P, S)

$$S \rightarrow (|)$$

\subsection{Gramatika bílých znaků}
Je gramatika popisující všechny bílé znaky $G_{bileznaky}$(\{S\}, \{$\dlsh | \mapsto | \sqcup$\}, P, S)
$$S \rightarrow  \dlsh S | \mapsto S | \sqcup S$$

\subsection{Komentáře}
Jazyk má jednoduché komentáře začínající na ; a končící novým řádkem $G_{komentare}$(\{S, F\}, \{$\dlsh$, ;, $\Square$\}, P, S)

$$S \rightarrow ;F$$
$$F \rightarrow \Square F | \dlsh S$$

\section{Stavový automat}
Nyní je třeba z předem definované gramatiky spojit a převést na automat. Pokud tento automat nebude deterministický je třeba jej determinizovat.

Samotný jazyk se skládá z jazyku oddělovačů (komentáře, bílé znaky) $L_{od} = G_{komentare} \bigcup G_{bileznaky}$ a jazyku významových tokenů. 

$$L_{vt} = L_{identifikatory} \bigcup L_{cisla} \bigcup L_{retezce} \bigcup L_{zavorky}$$
Celý jazyk pak lze zapsat tímto způsobem 
$$L = (L^{*}_{od}.L_{vt})^{*}.L^{*}_{od}$$
Po spojení nám vzniká gramatika
 
%%% Gramatika
$G_{vt}$(\{S, $S_{identifikatory}$, $S_{cisla}$, $S_{retezce}$, $S_{zavorky}$, A, B, C, D, E, F, G\}, \{d, z, m, (, ), $\backslash$ \}, P, S), která reprezentuje významové tokeny 

$$S \rightarrow S_{identifikatory} | S_{cisla} | S_{retezce} | S_{zavorky} | S_{od}$$

kde neterminál $S_{od}$ je definovaný v gramatice oddělovačů $G_{od}$(\{S, A\}, \{$\mapsto$, $\sqcup$, $\dlsh$, ;\}, P, S)

$$S \rightarrow \dlsh | \mapsto | \sqcup | ;A | \Square$$
$$A \rightarrow \Square A | ;A | \dlsh $$

Po spojení gramatik a odstranění jednoduchých pravidel dostaváme gramatiku
$G_{finalni}$(\{$S_{od}$\}, \{$\mapsto$, $\sqcup$, $\dlsh$, ;, $\Square$, $\backslash$, $\blacksquare$, ", d, ., z, m, (, )\}, P, S)
$$S \rightarrow zA | z | dB | d | "D | ;F | \dlsh S | \mapsto S | \sqcup S | ( | )$$
$$A \rightarrow mA | m$$
$$B \rightarrow dB | d | .C$$
$$C \rightarrow dC | d$$
$$D \rightarrow " | \backslash E | \blacksquare D$$
$$E \rightarrow "D | \backslash D | \blacksquare D$$
$$F \rightarrow \Square F | \dlsh S$$
\newpage

\begin{table}[]
\centering
\resizebox{\textwidth}{!}{%
\begin{tabular}{@{}lllllllllllllll@{}}
\toprule
$\delta$& d & z & m & ( & ) & $\blacksquare$ & $\Square$ & $\backslash$ & ; & . & " & $\dlsh$ & $\mapsto$ & $\sqcup$   \\ \midrule
$Q_{S}$ & $Q_{B\hat{F}}$ & $Q_{A\hat{F}}$ & - & $Q_{\hat{F}}$ & $Q_{\hat{F}}$ & - & - & - & $Q_{F}$ & - & $Q_{D}$ & $Q_{S}$ & $Q_{S}$ & $Q_{S}$ \\
$Q_{C}$ & $Q_{C\hat{F}}$ & - & - & - & - & - & - & - & - & - & - & - & - & - \\
$Q_{D}$ & - & - & - & - & - & $Q_{D}$ & - & $Q_{E}$ & - & - & $Q_{\hat{F}}$ & - & - & - \\
$Q_{E}$ & - & - & - & - & - & $Q_{D}$ & - & $Q_{D}$ & - & - & $Q_{D}$ & - & - & - \\
$Q_{F}$ & - & - & - & - & - & - & $Q_{F}$ & - & - & - & - & $Q_{S}$ & - & - \\
$Q_{\hat{F}}$ & - & - & - & - & - & - & - & - & - & - & - & - & - & - \\
$Q_{A\hat{F}}$ & - & - & $Q_{A\hat{F}}$ & - & - & - & - & - & - & - & - & - & - & - \\
$Q_{B\hat{F}}$ & $Q_{B\hat{F}}$ & - & - & - & - & - & - & - & - & $Q_{C}$ & - & - & - & - \\
$Q_{C\hat{F}}$ & $Q_{C\hat{F}}$ & - & - & - & - & - & - & - & - & - & - & - & - & - \\ \bottomrule
\end{tabular}%
}
\caption{Determinizovaný automat}
\label{f}
\end{table}

\input{automat.tex}

\end{document}
